{"version":3,"sources":["../../src/pages/select_module/select_module.module.ts","../../src/pages/select_module/select_module.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SelectModulePage } from './select_module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SelectModulePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SelectModulePage),\r\n  ],\r\n})\r\nexport class SelectModulePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select_module/select_module.module.ts","import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators,FormsModule } from '@angular/forms';\r\nimport { AlertController, IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { DatabaseProvider } from '../../providers/database/database';\r\n/**\r\n * Generated class for the SelectModulePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage({\r\n name: \"select_module\"\r\n})\r\n@Component({\r\n  selector: 'page-select-module',\r\n  templateUrl: 'select_module.html',\r\n})\r\nexport class SelectModulePage {\r\n\r\n  /**\r\n   * @name form\r\n   * @type {object}\r\n   * @public\r\n   * @description     Defines an object for handling form validation\r\n   */\r\n  public form          : any;\r\n\r\n\r\n\r\n  /**\r\n   * @name records\r\n   * @type {object}\r\n   * @public\r\n   * @description     Defines an object for returning documents from Cloud Firestore database\r\n   */\r\n  public records       : any;\r\n\r\n\r\n\r\n  /**\r\n   * @name name\r\n   * @type {string}\r\n   * @public\r\n   * @description     Model for city form field\r\n   */\r\n  public name          : string          = '';\r\n\r\n\r\n\r\n  /**\r\n   * @name owner\r\n   * @type {string}\r\n   * @public\r\n   * @description     Model for population form field\r\n   */\r\n  public owner    : string          = '';\r\n\r\n\r\n\r\n  /**\r\n   * @name tyoe\r\n   * @type {string}\r\n   * @public\r\n   * @description     Model for established form field\r\n   */\r\n  public type \t: string          = '';\r\n\r\n\r\n\r\n  /**\r\n   * @name docID\r\n   * @type {string}\r\n   * @public\r\n   * @description     property that stores an edited document's ID\r\n   */\r\n  public docID         : string          = '';\r\n\r\n\r\n\r\n  /**\r\n   * @name isEditable\r\n   * @type {boolean}\r\n   * @public\r\n   * @description     property that stores value to signify whether\r\n                      we are editing an existing document or not\r\n   */\r\n  public isEditable    : boolean         = false;\r\n\r\n\r\n\r\n  /**\r\n   * @name title\r\n   * @type {string}\r\n   * @public\r\n   * @description     property that defines the template title value\r\n   */\r\n  public title \t\t: string\t\t   = 'Add a new question';\r\n\r\n\r\n\r\n  /**\r\n   * @name _COLL\r\n   * @type {string}\r\n   * @private\r\n   * @description     property that stores the value for the database collection\r\n   */\r\n  private _COLL \t\t: string \t\t\t= \"Modules\";\r\n\r\n  /**\r\n   * @name quests\r\n   * @type {object}\r\n   * @private\r\n   * @description     property that stores the value for the database collection\r\n   */\r\n  private quests \t\t: any;\r\n\r\n  /**\r\n   * @name questions\r\n   * @type {object}\r\n   * @private\r\n   * @description     property that stores the value for the database collection\r\n   */\r\n  private questions \t\t: any;\r\n\r\n  constructor(public navCtrl        : NavController,\r\n              public params         : NavParams,\r\n              private _FB \t         : FormBuilder,\r\n              private _DB           : DatabaseProvider,\r\n              private _ALERT        : AlertController)\r\n  {\r\n\r\n     // Use Formbuilder API to create a FormGroup object\r\n     // that will be used to programmatically control the\r\n     // form / form fields in the component template\r\n     this.form \t\t= _FB.group({\r\n        'name' \t\t        : ['', Validators.required],\r\n        'owner' \t        : ['', Validators.required],\r\n        'type'\t        : ['', Validators.required]\r\n     });\r\n\r\n\r\n     // If we have navigation parameters then we need to\r\n     // parse these as we know these will be used for\r\n     // editing an existing record\r\n     if(params.get('isEdited'))\r\n     {\r\n         let record \t\t        = params.get('record');\r\n\r\n         this.name\t            = record.location.name;\r\n         this.type   \t  = record.location.type;\r\n         this.owner      = record.location.owner;\r\n         this.docID            = record.location.id;\r\n         this.isEditable       = true;\r\n         this.title            = 'Update this document';\r\n     }\r\n  }\r\n\r\n  ionViewDidEnter()\r\n  {\r\n    this.retrieveCollection();\r\n    this.retrieveSubCollection();\r\n  }\r\n\r\n  retrieveCollection() : void\r\n  {\r\n     this._DB.getQuestions(\"Questions\")\r\n     .then((data) =>\r\n     {\r\n       this.quests = data;\r\n\r\n     })\r\n     .catch();\r\n  }\r\n\r\n  retrieveSubCollection() : void\r\n  {\r\n     this._DB.getModules_Questions(this._COLL, this.docID, \"Questions\")\r\n     .then((data) =>\r\n     {\r\n       this.questions = data;\r\n     })\r\n     .catch();\r\n  }\r\n\r\n  saveDocument(val : any)\r\n  {\r\n    this._DB.addModules_Questions(\"Modules\", this.docID, \"Questions\", val);\r\n  }\r\n\r\n  /**\r\n   * Provide feedback to user after an operation has succeeded/failed\r\n   *\r\n   * @public\r\n   * @method displayAlert\r\n   * @param  title          {String}           Heading for alert message\r\n   * @param  message        {String}           Content for alert message\r\n   * @return {none}\r\n   */\r\n  displayAlert(title      : string,\r\n               message    : string) : void\r\n  {\r\n     let alert : any     = this._ALERT.create({\r\n        title      : title,\r\n        subTitle   : message,\r\n        buttons    : ['Got it!']\r\n     });\r\n     alert.present();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/select_module/select_module.ts"],"sourceRoot":""}