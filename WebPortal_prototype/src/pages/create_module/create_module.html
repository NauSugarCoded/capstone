<!--
  Generated template for the CreateModulesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Modules</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form
    [formGroup]='form'
    (ngSubmit)='saveDocument(form.value)'>

    <ion-item>
      <ion-label stacked>Module Name:</ion-label>
      <ion-input
        type='text'
        formControlName='name'
        [(ngModel)]='name'>
      </ion-input>
    </ion-item>

    <ion-list radio-group formControlName="type" [(ngModel)]="type">
      <ion-label stacked>Module Type:</ion-label>
      <ion-item>
        <ion-label> User Initiated </ion-label>
        <ion-radio value="User Initiated"></ion-radio>
      </ion-item>
      <ion-item>
        <ion-label> Time Initiated </ion-label>
        <ion-radio value="Time Initiated"></ion-radio>
      </ion-item>
 	  </ion-list>

    <div *ngIf="type == 'Time Initiated'">
      <ion-item>
        <ion-label> Recurrence: </ion-label>
        <ion-select formControlName="recurrence" [(ngModel)]="recurrence">
          <ion-option value="once"> Once </ion-option>
          <ion-option value="day"> Daily </ion-option>
          <ion-option value="week"> Weekly </ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label stacked>Every X Hour(s)</ion-label>
        <ion-datetime
          displayFormat="HH:mm"
          type='time'
          formControlName='every'
          [(ngModel)]='every'>
        </ion-datetime>
      </ion-item>

      <ion-item>
         <ion-label stacked> Start Time </ion-label>
         <ion-datetime
            displayFormat="hh:mma"
            type="time"
            formControlName="start_time"
            [(ngModel)]="start_time"></ion-datetime>
   	  </ion-item>

      <ion-item>
         <ion-label stacked> Start Date </ion-label>
         <ion-input
            type="date"
            formControlName="start_date"
            [(ngModel)]="start_date"></ion-input>
   	  </ion-item>

      <ion-item>
         <ion-label stacked> End Date</ion-label>
         <ion-input
            type="date"
            formControlName="end_date"
            [(ngModel)]="end_date"></ion-input>
   	  </ion-item>
    </div>

 	  <ion-item>
       <button
         ion-button
         block
         color="primary"
         text-center
         padding-top
         padding-bottom
         [disabled]="!form.valid">
          <div *ngIf="!isEditable">
             Create Module
          </div>

          <div *ngIf="isEditable">
             Update Module
          </div>
          </button>
 	  </ion-item>

    <h2> Questions </h2>
    <ion-item>
      <div *ngIf="isEditable">
        <button
          ion-button
          block
          color="primary"
          text-center
          padding-top
          padding-bottom
          [disabled]="!form.valid">
          Add a question
        </button>
      </div>
    </ion-item>


  </form>

</ion-content>
